(()=>{var e={};e.id=617,e.ids=[220,617,636],e.modules={361:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},1428:e=>{"use strict";e.exports=import("axios")},2015:e=>{"use strict";e.exports=require("react")},2326:e=>{"use strict";e.exports=require("react-dom")},2768:()=>{},3257:(e,s,t)=>{"use strict";t.a(e,async(e,a)=>{try{t.r(s),t.d(s,{default:()=>o,getServerSideProps:()=>c});var r=t(8732),l=t(2015),i=t(4233),d=t(1428),n=e([d]);d=(n.then?(await n)():n)[0];let c=async e=>{let{symbol:s}=e.params,{req:t}=e,a=t.headers.authorization,r=!1,l=null;if(a)try{let e=await d.default.get(`${process.env.NEXTAUTH_URL||"http://localhost:3000"}/api/ticker/${s}`,{headers:{Authorization:a}});200===e.status&&(r=!0,l=e.data)}catch(e){console.error("Failed to fetch ticker:",e)}return r&&l?{props:{ticker:l,isAuthenticated:r}}:{redirect:{destination:"/",permanent:!1}}},o=({ticker:e,isAuthenticated:s})=>{let t=(0,i.useRouter)(),[a,n]=(0,l.useState)("step2"),[c,o]=(0,l.useState)(null),[x,p]=(0,l.useState)(!1),[m,h]=(0,l.useState)("aggressive");(0,l.useEffect)(()=>{if(!s)return void t.push("/")},[s,t]);let u=async()=>{if(!c){p(!0);try{let s=await d.default.post(`/api/analyze/${e.symbol}`,{},{headers:{Authorization:`Bearer ${localStorage.getItem("jwt_token")}`}});200===s.status&&o(s.data)}catch(e){console.error("Failed to load spread data:",e)}finally{p(!1)}}},b=e=>{n(e),("step3"===e||"step4"===e)&&u()},g=e=>{if(!c||!c.strategies[e]?.found)return(0,r.jsxs)("div",{className:"bg-slate-700 rounded-lg p-6 border border-purple-500/20",children:[(0,r.jsx)("h3",{className:"text-xl font-bold text-white mb-4 capitalize",children:e}),(0,r.jsxs)("div",{className:"text-gray-400",children:["No ",e," strategy available"]})]});let s=c.strategies[e],t=s.spread_details;return s.contracts,(0,r.jsxs)("div",{className:`bg-slate-700 rounded-lg p-6 border cursor-pointer transition-all ${m===e?"border-purple-400 bg-slate-600":"border-purple-500/20 hover:border-purple-500/40"}`,onClick:()=>h(e),children:[(0,r.jsx)("h3",{className:"text-xl font-bold text-white mb-4 capitalize",children:e}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-400",children:"DTE:"}),(0,r.jsxs)("span",{className:"text-white font-semibold",children:[t.days_to_expiration," days"]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-400",children:"ROI:"}),(0,r.jsxs)("span",{className:"text-green-400 font-semibold",children:[t.roi_percent.toFixed(1),"%"]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-400",children:"Max Profit:"}),(0,r.jsxs)("span",{className:"text-white font-semibold",children:["$",t.max_profit.toFixed(2)]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-400",children:"Spread Cost:"}),(0,r.jsxs)("span",{className:"text-white font-semibold",children:["$",t.spread_cost.toFixed(2)]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-400",children:"Strikes:"}),(0,r.jsxs)("span",{className:"text-white font-semibold",children:["$",t.long_strike," / $",t.short_strike]})]})]})]})},j=()=>{if(!c||!m||!c.strategies[m]?.price_scenarios)return(0,r.jsx)("div",{className:"text-gray-400",children:"No profit scenarios available"});let e=c.strategies[m].price_scenarios;return(0,r.jsxs)("div",{className:"bg-slate-700 rounded-lg p-6 border border-purple-500/20",children:[(0,r.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Profit Matrix at Expiration"}),(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full text-sm",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"bg-purple-600 text-white",children:[(0,r.jsx)("th",{className:"px-3 py-2 text-left",children:"Price Change"}),(0,r.jsx)("th",{className:"px-3 py-2 text-left",children:"Stock Price"}),(0,r.jsx)("th",{className:"px-3 py-2 text-left",children:"Spread Value"}),(0,r.jsx)("th",{className:"px-3 py-2 text-left",children:"Profit/Loss"}),(0,r.jsx)("th",{className:"px-3 py-2 text-left",children:"ROI %"}),(0,r.jsx)("th",{className:"px-3 py-2 text-left",children:"Outcome"})]})}),(0,r.jsx)("tbody",{children:e.map((e,s)=>(0,r.jsxs)("tr",{className:`border-b border-slate-600 ${"profit"===e.outcome?"bg-green-900/20":"bg-red-900/20"}`,children:[(0,r.jsxs)("td",{className:"px-3 py-2 text-white",children:[e.price_change_percent,"%"]}),(0,r.jsxs)("td",{className:"px-3 py-2 text-white",children:["$",e.future_stock_price.toFixed(2)]}),(0,r.jsxs)("td",{className:"px-3 py-2 text-white",children:["$",e.spread_value_at_expiration.toFixed(2)]}),(0,r.jsxs)("td",{className:`px-3 py-2 font-semibold ${e.profit_loss>=0?"text-green-400":"text-red-400"}`,children:["$",e.profit_loss.toFixed(2)]}),(0,r.jsxs)("td",{className:`px-3 py-2 font-semibold ${e.roi_percent>=0?"text-green-400":"text-red-400"}`,children:[e.roi_percent.toFixed(1),"%"]}),(0,r.jsx)("td",{className:`px-3 py-2 font-semibold capitalize ${"profit"===e.outcome?"text-green-400":"text-red-400"}`,children:e.outcome})]},s))})]})})]})};return s?(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:[(0,r.jsx)("div",{className:"bg-slate-800/50 border-b border-purple-500/30 backdrop-blur-sm",children:(0,r.jsx)("div",{className:"container mx-auto px-6 py-4",children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("button",{onClick:()=>t.push("/"),className:"text-purple-400 hover:text-purple-300 transition-colors",children:"← Back to Dashboard"}),(0,r.jsx)("h1",{className:"text-3xl font-bold text-white",children:e.symbol}),(0,r.jsx)("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-400 text-black px-3 py-1 rounded-full text-sm font-bold",children:"VIP"})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("div",{className:"text-2xl font-bold text-green-400",children:["$",e.current_price.toFixed(2)]}),(0,r.jsxs)("div",{className:"text-gray-400",children:["Score: ",e.score,"/5"]})]})]})})}),(0,r.jsx)("div",{className:"bg-slate-800/30 border-b border-purple-500/20",children:(0,r.jsx)("div",{className:"container mx-auto px-6",children:(0,r.jsx)("div",{className:"flex gap-8",children:[{id:"step2",label:"Step 2: Analysis"},{id:"step3",label:"Step 3: Strategies"},{id:"step4",label:"Step 4: Trade Details"}].map(e=>(0,r.jsx)("button",{onClick:()=>b(e.id),className:`py-4 px-2 border-b-2 font-semibold transition-colors ${a===e.id?"border-purple-400 text-purple-400":"border-transparent text-gray-400 hover:text-gray-300"}`,children:e.label},e.id))})})}),(0,r.jsxs)("div",{className:"container mx-auto px-6 py-8",children:["step2"===a&&(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Technical Analysis"}),(()=>{let s=[{name:"Trend1 (20-day EMA)",value:e.trend1_pass,description:"20-day exponential moving average trend"},{name:"Trend2 (100-day EMA)",value:e.trend2_pass,description:"100-day exponential moving average trend"},{name:"Snapback (RSI)",value:e.snapback_pass,description:"Relative Strength Index momentum"},{name:"Momentum (Weekly)",value:e.momentum_pass,description:"Weekly momentum analysis"},{name:"Stabilizing (ATR)",value:e.stabilizing_pass,description:"Average True Range stability"}];return(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map((e,s)=>(0,r.jsxs)("div",{className:"bg-slate-700 rounded-lg p-4 border border-purple-500/20",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,r.jsx)("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${e.value?"bg-green-500":"bg-red-500"}`,children:(0,r.jsx)("span",{className:"text-white text-xs font-bold",children:e.value?"✓":"✗"})}),(0,r.jsx)("div",{className:"font-semibold text-white",children:e.name})]}),(0,r.jsx)("div",{className:"text-gray-400 text-sm",children:e.description})]},s))})})()]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{className:"bg-slate-700 rounded-lg p-6 border border-purple-500/20",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"Trading Volume"}),(0,r.jsx)("div",{className:"text-2xl font-bold text-purple-400",children:e.trading_volume.toLocaleString()})]}),(0,r.jsxs)("div",{className:"bg-slate-700 rounded-lg p-6 border border-purple-500/20",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"Options Contracts"}),(0,r.jsx)("div",{className:"text-2xl font-bold text-purple-400",children:0===e.options_contracts_10_42_dte?"Processing...":e.options_contracts_10_42_dte.toLocaleString()})]}),(0,r.jsxs)("div",{className:"bg-slate-700 rounded-lg p-6 border border-purple-500/20",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"Last Updated"}),(0,r.jsx)("div",{className:"text-lg text-purple-400",children:new Date(e.last_updated).toLocaleDateString()})]})]})]}),"step3"===a&&(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Income Strategies"}),x?(0,r.jsxs)("div",{className:"flex justify-center items-center py-12",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500"}),(0,r.jsx)("span",{className:"ml-4 text-white",children:"Analyzing spread opportunities..."})]}):(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[g("aggressive"),g("balanced"),g("conservative")]})]}),c&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"text-xl font-bold text-white mb-4",children:["Selected Strategy: ",m]}),j()]})]}),"step4"===a&&(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Trade Construction"}),x?(0,r.jsxs)("div",{className:"flex justify-center items-center py-12",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500"}),(0,r.jsx)("span",{className:"ml-4 text-white",children:"Loading trade details..."})]}):c&&c.strategies[m]?.found?(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,r.jsxs)("div",{className:"bg-slate-700 rounded-lg p-6 border border-purple-500/20",children:[(0,r.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Trade Details"}),(0,r.jsx)("div",{className:"space-y-4",children:(()=>{let e=c.strategies[m],s=e.spread_details,t=e.contracts;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"bg-green-900/30 border border-green-500/30 rounded-lg p-4",children:[(0,r.jsx)("div",{className:"font-semibold text-green-400 mb-2",children:"BUY (Long Position)"}),(0,r.jsxs)("div",{className:"text-white",children:["Buy the $",s.long_strike," ",new Date(s.expiration_date).toLocaleDateString("en-US",{month:"short",day:"2-digit"})," Call"]}),(0,r.jsxs)("div",{className:"text-gray-300 text-sm",children:["Contract: ",t.long_contract]})]}),(0,r.jsxs)("div",{className:"bg-red-900/30 border border-red-500/30 rounded-lg p-4",children:[(0,r.jsx)("div",{className:"font-semibold text-red-400 mb-2",children:"SELL (Short Position)"}),(0,r.jsxs)("div",{className:"text-white",children:["Sell the $",s.short_strike," ",new Date(s.expiration_date).toLocaleDateString("en-US",{month:"short",day:"2-digit"})," Call"]}),(0,r.jsxs)("div",{className:"text-gray-300 text-sm",children:["Contract: ",t.short_contract]})]})]})})()})]}),(0,r.jsxs)("div",{className:"bg-slate-700 rounded-lg p-6 border border-purple-500/20",children:[(0,r.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Risk/Reward Analysis"}),(0,r.jsx)("div",{className:"space-y-3",children:(()=>{let e=c.strategies[m].spread_details;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-400",children:"Spread Width:"}),(0,r.jsxs)("span",{className:"text-white font-semibold",children:["$",e.spread_width.toFixed(0)]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-400",children:"Spread Cost:"}),(0,r.jsxs)("span",{className:"text-white font-semibold",children:["$",e.spread_cost.toFixed(2)]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-400",children:"Max Profit:"}),(0,r.jsxs)("span",{className:"text-green-400 font-semibold",children:["$",e.max_profit.toFixed(2)]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-400",children:"Max Loss:"}),(0,r.jsxs)("span",{className:"text-red-400 font-semibold",children:["$",e.max_loss.toFixed(2)]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-400",children:"Breakeven:"}),(0,r.jsxs)("span",{className:"text-white font-semibold",children:["$",e.breakeven_price.toFixed(2)]})]}),(0,r.jsxs)("div",{className:"flex justify-between border-t border-slate-600 pt-3",children:[(0,r.jsx)("span",{className:"text-gray-400",children:"Target ROI:"}),(0,r.jsxs)("span",{className:"text-purple-400 font-bold text-lg",children:[e.roi_percent.toFixed(1),"%"]})]})]})})()})]})]}):(0,r.jsx)("div",{className:"text-center py-12 text-gray-400",children:"No trade details available for selected strategy"})]}),c&&(0,r.jsx)("div",{children:j()})]})]})]}):null};a()}catch(e){a(e)}})},3873:e=>{"use strict";e.exports=require("path")},4075:e=>{"use strict";e.exports=require("zlib")},7887:(e,s,t)=>{"use strict";t.a(e,async(e,a)=>{try{t.r(s),t.d(s,{config:()=>b,default:()=>p,getServerSideProps:()=>u,getStaticPaths:()=>h,getStaticProps:()=>m,reportWebVitals:()=>g,routeModule:()=>_,unstable_getServerProps:()=>v,unstable_getServerSideProps:()=>y,unstable_getStaticParams:()=>f,unstable_getStaticPaths:()=>N,unstable_getStaticProps:()=>j});var r=t(3885),l=t(237),i=t(1413),d=t(8548),n=t.n(d),c=t(8198),o=t(3257),x=e([o]);o=(x.then?(await x)():x)[0];let p=(0,i.M)(o,"default"),m=(0,i.M)(o,"getStaticProps"),h=(0,i.M)(o,"getStaticPaths"),u=(0,i.M)(o,"getServerSideProps"),b=(0,i.M)(o,"config"),g=(0,i.M)(o,"reportWebVitals"),j=(0,i.M)(o,"unstable_getStaticProps"),N=(0,i.M)(o,"unstable_getStaticPaths"),f=(0,i.M)(o,"unstable_getStaticParams"),v=(0,i.M)(o,"unstable_getServerProps"),y=(0,i.M)(o,"unstable_getServerSideProps"),_=new r.PagesRouteModule({definition:{kind:l.A.PAGES,page:"/ticker/[symbol]",pathname:"/ticker/[symbol]",bundlePath:"",filename:""},components:{App:c.default,Document:n()},userland:o});a()}catch(e){a(e)}})},7910:e=>{"use strict";e.exports=require("stream")},8198:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});var a=t(8732);function r({Component:e,pageProps:s}){return(0,a.jsx)(e,{...s})}t(2768)},8732:e=>{"use strict";e.exports=require("react/jsx-runtime")},9021:e=>{"use strict";e.exports=require("fs")}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[548,441],()=>t(7887));module.exports=a})();